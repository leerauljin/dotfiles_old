#!/bin/sh

alias s="sketchybar"


PLUGIN_DIR="$HOME/.config/sketchybar/plugins"
FONT="JetBrainsMono Nerd Font"
FONTALT="Helvetica"
BACKGROUND=0xf0141b1e
FOREGROUND=0xffdadada
RED=0xffe57474
GREEN=0xff8ccf7e
BLUE=0xff67b0e8
YELLOW=0xffe5c76b

# Bar appearance

s --bar height=28        \
                 blur_radius=0   \
                 position=bottom  \
                 y_offset=0       \
                 margin=0         \
                 corner_radius=0  \
                 padding_left=10  \
                 padding_right=10 \
                 shadow=off        \
                 color=$BACKGROUND

# Defaults

s --default updates=when_shown                        \
                     drawing=on                                \
                     icon.font="$FONT:Bold:18.0"               \
                     icon.color=$FOREGROUND                     \
                     label.font="$FONT:Bold:16.0"              \
                     label.color=$FOREGROUND                    \
                     label.padding_left=4                      \
                     label.padding_right=4                     \
                     icon.padding_left=4                       \
                     icon.padding_right=4

# Left items

s --add item clock left                        \
           --set clock   update_freq=10                  \
                        background.padding_left=0 \
                         icon.drawing=off                 \
                        icon.padding_left=0 \
                        label.padding_left=6   \
                        label.align=left   \
                         label.font="$FONT:ExtraBold:16.0"          \
                         label.color=$GREEN \
                         script="$PLUGIN_DIR/clock.sh"   
SPACE_ICONS=("" "爵" "" "" "" "" "" "8" "9" "10")

s --add item clock_separator left \
           --set clock_separator icon="|"\
                                    align=center   \
                                 icon.font="$FONT:ExtraBold:14.0"        \
                                 label.drawing=off \
                                 icon.color=$RED

for i in "${!SPACE_ICONS[@]}"
do
  sid=$(($i+1))
  s --add space space.$sid left                                 \
             --set space.$sid associated_space=$sid                      \
                              icon=${SPACE_ICONS[i]}                     \
                              icon.padding_left=4                        \
                              icon.padding_right=4                       \
                              background.padding_left=4                  \
                              background.padding_right=4                 \
                              background.color=$RED               \
                              background.corner_radius=0                 \
                              background.height=2                       \
                              background.y_offset=-12                    \
                              background.drawing=off                     \
                              label.drawing=off                          \
                              script="$PLUGIN_DIR/space.sh"              \
                              click_script="yabai -m space --focus $sid"
done


// s --add item space_separator left \
//            --set space_separator icon= \
//                                  background.padding_left=6 \
//                                  background.padding_right=6 \
//                                  icon.font="$FONT:SemiBold:14.0"        \
//                                  label.drawing=off \
//                                  icon.color=$RED
//
 s --add item window_title center                             \
            --set window_title    script="$PLUGIN_DIR/window_title.sh" \
                                  label.font="$FONT:Bold Italic:16.0"        \
                                  label.color=$BLUE                    \
                                  icon.drawing=off                     \
                                  label.y_offset=1 \
            --subscribe window_title front_app_switched

# Center items


# Right items




s --add item date right                        \
           --set date   update_freq=10                  \
                        background.padding_right=0 \
                         icon.drawing=off                 \
                        icon.padding_right=0 \
                        label.padding_left=12   \
                        label.padding_right=0   \
                        label.align=right   \
                         label.font="$FONT:ExtraBold:16.0"        \
                         script="$PLUGIN_DIR/date.sh"     \



s --add item date_separator right \
           --set date_separator icon="|"\
                                    align=center   \
                                 icon.font="$FONT:ExtraBold:14.0"        \
                                 label.drawing=off \
                                 icon.color=$RED
# s --query default_menu_items

for i in \
  "Control Center,Battery"     \
  "Control Center,WiFi"     \
  "Control Center,Sound"     \
  "Dropbox,Item-0"              \
"TextInputMenuAgent,Item-0" 
            
do
  s --add alias "$i" right          \
             --set "$i" icon.padding_left=0  \
                        icon.padding_right=0 \
                        label.padding_left=0 \
                        label.padding_right=0
done


# Finalize

s --update

echo "s configuration loaded.."
